  <!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Problem 8_8[CTCI] &#8211; Patrick Yu</title>

<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Problem 8_8[CTCI]">

<meta name="twitter:site" content="@PatrickYu5">
<meta name="twitter:creator" content="@PatrickYu5">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Problem 8_8[CTCI]">

<meta property="og:url" content="/ctci/ch8/problem-8_8-ctci/">
<meta property="og:site_name" content="Patrick Yu">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/ctci/ch8/problem-8_8-ctci/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Patrick Yu Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<!--
<link rel="shortcut icon" href="/images/PatrickFavicon.ico/favicon.ico">
<link rel="shortcut icon" href="/images/PatrickFavicon.ico/favicon.png">
<link rel="apple-touch-icon-precomposed" href="/images/PatrickFavicon.ico/apple-icon-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/PatrickFavicon.ico/apple-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/PatrickFavicon.ico/apple-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/PatrickFavicon.ico/apple-icon-144x144.png">
-->
<link rel="apple-touch-icon" sizes="57x57" href="/images/PatrickFavicon.ico/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/PatrickFavicon.ico/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/PatrickFavicon.ico/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/PatrickFavicon.ico/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/PatrickFavicon.ico/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/PatrickFavicon.ico/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/PatrickFavicon.ico/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/PatrickFavicon.ico/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/PatrickFavicon.ico/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/PatrickFavicon.ico/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/PatrickFavicon.ico/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/PatrickFavicon.ico/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/PatrickFavicon.ico/favicon-16x16.png">
<link rel="manifest" href="/images/PatrickFavicon.ico/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/images/PatrickFavicon.ico/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Patrick Yu</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Posts</a></li>
				
				    
				        
				    
				    <li><a href="/resume/pdf/patrickyuresume2.pdf" >Resume</a></li>
				
				    
				        
				    
				    <li><a href="/books/" >What I'm doing</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    


<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/patrick.jpg" class="bio-photo" alt="Patrick Yu bio photo">


  <h3 itemprop="name">Patrick Yu</h3>
  <p>I still haven't found what I'm looking for.</p>
  <a href="mailto:patrickyuemail@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="http://twitter.com/PatrickYu5" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  
  <a href="http://linkedin.com/in/patricknyu" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  
  <a href="http://github.com/patricknyu" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  <a href="http://soundcloud.com/PatrickYu" class="author-social" target="_blank"><i class="fa fa-fw fa-soundcloud"></i> Soundcloud</a>
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/ctci/ch8/problem-8_8-ctci/" rel="bookmark" title="Problem 8_8[CTCI]">Problem 8_8[CTCI]</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p><a href="https://github.com/patricknyu/CtCInterview/tree/master/ch_8/8_8">Github Source</a></p>

<h3 id="q">Q:</h3>
<p>Othello is played as follows: Each Othello piece is white on one side and black on the other. When a piece is surrounded by its opponents on both the left and right sides, or both the top and bottom, it is said to be captured and its color is flipped. On your turn, you must capture at least one of your opponentâ€™s pieces. The game ends when either user has no more valid moves. The win is assigned to the person with the most pieces. Implement the object-oriented design for Othello.</p>

<h3 id="a">A:</h3>
<p>Well initially, this makes me think about the objects we will need.  We need some sort of board object.  I probably want to store that as a 2d array just for simplicity.  We will also need a piece object which has an attribute which allows for white and black pieces.  Players will probably also be necessary.</p>

<p>Some thoughts taken from the solutions:
- You might think to make a Piece object and then BlackPiece and WhitePiece which will inherit properties from Piece, but this is inadvisable since we will flip colors frequently.</p>

<ul>
  <li>
    <p>You may want to split up Game and Board, or you can keep it together.  I would keep it separate.</p>
  </li>
  <li>
    <p>Keeping score has different options.  I would probably do it in Board.</p>
  </li>
  <li>
    <p>It would help if Game was singleton class.  However, this is an assumption.</p>
  </li>
</ul>

<p><a href="https://github.com/patricknyu/CtCInterview/blob/master/ch_8/8_8/Board.java">Board.java</a></p>

<p>```java
public class Board
{
	private int blackCount = 0;
	private int whiteCount = 0;
	//2d array to represent the pieces
	private Piece[][] board;</p>

<pre><code>public Board(int rows, int columns)
{
	board = new Piece[rows][columns];
}

public void initialize()
{
	int middleR = board.length/2;
	int middleC = board[middleR].length/2;
	board[middleR][middleC] = new Piece(Color.White);
	board[middleRow+1][middleC] = new Piece(Color.Black);
	board[middleRow+1][middleC+1] = new Piece(Color.White);
	board[middleRow][middleC+1] = new Piece(Color.White);
	blackCount = 2;
	whiteCount = 2;
}

public boolean placeColor(int row, int column, Color c)
{
	if (board[row][column] != null)
	{
		return false;
	}
	else
	{
		//For directions to flip
		int[] results = new int[4];
		results[0] = flipSection(row-1,column,color,Direction.up);
		results[1] = flipSection(row+1,column,color,Direction.down);
		results[2] = flipSection(row,column+1,color,Direction.right);
		results[3] = flipSection(row,column-1,color,Direction.left);
		
		int flipped = 0;
		for (int i = 0; i&lt; 4;i++)
		{
			if (results[i] &gt; 0)
			{
				flipped +=results[i];
			}
		}

		if(flipped &lt;=0)
		{
			return false;
		}

		piece[row][column] = new Piece(c);
		updateScore(c, flipped+1);
	}
		return true;
}
public int flipSection(int row, int column, Color color, Direction d)
{
	int r=0;
	int c=0;
	switch(d)
	{
	case up:
		r = -1;
		break;
	case down:
		r = 1;
		break;
	case left:
		c = -1;
		break;
	case right:
		c = 1;
		break;
	}
	if(row &lt; 0|| column &lt; 0 || row &gt; board.length|| column &gt; board[row].length || board[row][column] == null)
	{
		return -1;
	}

	if(board[row][column].getColor() == color)
	{
		return 0;
	}
	int flipped = flipSection(row+r,colum + c, color, d)
	if(flipped &lt;0)
	{
		return -1;
	}
	board[row][column].flip();
	return flipped +1;
}
public int getScoreForColor(Color c)
{
	if(c == Color.Black)
	{
		return blackCount;
	}
	return whiteCount;
}
public void updateScore(Color c, int news)
{
	if(c == Color.Black)
	{
		whiteCount -= (news-1);
		blackCount += news;
	}
	else
	{
		whitecount +=news;
		blackCount -=(news-1);
	}
}
public void printBoard()
{
	for(int row =0; row&lt; board.length;row++)
	{
		for (int column = 0; column &lt; board[row].length;i++)
		{
			if(board[row][column] == null)
			{
				System.out.print("_");
			}
			else if(board[row][column] == Color.Black)
			{
				System.out.print("B");
			}
			else if (board[row][column] == Color.White)
			{
				System.out.print("W");
			}
		}
		System.out.println();
	}
} } ```
</code></pre>

<p><a href="https://github.com/patricknyu/CtCInterview/blob/master/ch_8/8_8/Color.java">Color.java</a></p>

<p><code>java
public enum Color
{
	White, Black;
}
</code></p>

<p><a href="https://github.com/patricknyu/CtCInterview/blob/master/ch_8/8_8/Game.java">Game.java</a></p>

<p>```java
public class Game
{
	//This will be sized at 2
	private Player[] players;
	private static Game _instance;
	private Board board;
	//We create this as a singleton.  Also we assume 10x10
	private final int ROWS = 10;
	private final int COLUMNS = 10;</p>

<pre><code>private Game()
{
	board = new Board(ROWS,COLUMNS);
	players = new Player[2];
	players[0] = new Player(Color.Black);
	players[1] = new Player(Color.White);
}
//Standard singleton stuff.
public static Game getInstance()
{
	if(_instance == null)
	{
		_instance = new Game();
	}
	return _instance;
}
public Board getBoard()
{
	return board;
} } ```
</code></pre>

<p><a href="https://github.com/patricknyu/CtCInterview/blob/master/ch_8/8_8/Piece.java">Piece.java</a></p>

<p><code>java
public class Piece
{
	private Color color;
	public Piece(Color c)
	{
		color = c;
	}
	//Flip the color
	public void flip()
	{
		if(color == Color.White)
		{
			color = Color.Black;
		}
		else
		{
			color = Color.White;
		}
	}
	public Color getColor()
	{
		return color;
	}
}
</code></p>

<p><a href="https://github.com/patricknyu/CtCInterview/blob/master/ch_8/8_8/Piece.java">Piece.java</a></p>

<p>```java
public class Player
{
	private Color color;
	public Player(Color c)
	{
		color = c;
	}
	public int getScore()
	{
		return Game.getInstance().getBoard().getScoreForColor(color);
	}</p>

<pre><code>public boolean movePiece(int row, int column)
{
	return Game.getInstance().getBoard().placeColor(row,column,color);
}

public Color getColor()
{
	return color;
} } ```
</code></pre>


      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/ctci/ch8/problem-8_8-ctci/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/ctci/ch8/problem-8_8-ctci/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/ctci/ch8/problem-8_8-ctci/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Problem 8_8[CTCI]</strong> was published on <time datetime="2015-10-16T15:58:24-07:00">October 16, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/ctci/ch1/problem-1_8-ctci/" title="Problem 1_8 [CTCI]">Problem 1_8 [CTCI]</a></li>
    
      <li><a href="/ctci/ch1/problem-1_7-ctci/" title="Problem 1_7 [CTCI]">Problem 1_7 [CTCI]</a></li>
    
      <li><a href="/ctci/ch1/problem-1_6-ctci/" title="Problem 1_6 [CTCI]">Problem 1_6 [CTCI]</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2016 Patrick Yu. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
